# 接口设计

## 1. 用户模块

### 1.1 用户注册（√）

```http
POST /api/users/register
Content-Type: application/json

{
  "username": "string",
  "email": "string",
  "password": "string",
  "captcha": "string"
}
```

```
{
  "code": 200,
  "message": "注册成功",
  "timestamp": "2024-01-15T10:30:00Z"
}
```

### 1.2 用户登录（√）

```http
POST /api/users/login
Content-Type: application/json

{
  "username": "string",
  "password": "string"
}
```

```
{
  "code": 200,
  "message": "登录成功",
  "data": {
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "user": {
      "id": 123,
      "username": "testuser",
      "email": "test@example.com",
      "nickname": "测试用户",
      "avatarUrl": "https://example.com/avatar.jpg",
      "bio": "个人简介",
      "role": 0,
      "followerCount": 0,
      "lastLoginTime": "2024-01-15T10:30:00Z"
    }
  },
  "timestamp": "2024-01-15T10:30:00Z"
}
```

### 1.3 获取用户信息（√）

```http
GET /api/users/{userId}
Authorization: Bearer {token}
```

```JSON
{
    "code": 200,
    "data": {
        "following": true,
        "user": {
            "articleCount": 0,
            "avatarUrl": null,
            "bio": "这里是介绍",
            "createTime": "2025-10-20 22:17:10",
            "email": "wu_qizhen@126.com",
            "followerCount": 1,
            "followingCount": 0,
            "id": 2,
            "lastLoginTime": "2025-10-25 19:42:10",
            "nickname": "我不是靓仔",
            "role": 0,
            "status": 0,
            "username": "Wu Qizhen"
        }
    },
    "message": "获取成功"
}
```

### 1.4 更新用户信息（√）

```http
PUT /api/users/{userId}
Authorization: Bearer {token}
Content-Type: application/json

{
  "nickname": "string",
  "bio": "string",
  "avatarUrl": "string"
}
```

```
{
  "code": 200,
  "message": "更新成功",
  "data": {
  	"user": {
  		"id": 123,
    	"username": "testuser",
    	"email": "test@example.com",
    	"phone": "13800138000",
    	"nickname": "测试用户",
    	"bio": "这是一个个人简介",
    	"avatarUrl": "https://example.com/avatar.jpg",
    	"createTime": "2024-01-01T00:00:00Z",
    	"lastLoginTime": "2024-01-15T10:30:00Z",
    	"status": 0,
    	"role": 0,
    	"followerCount": 150,
    	"followingCount": 85,
    	"articleCount": 42,
  	}
    "isFollowing": false
  },
  "timestamp": "2024-01-15T10:30:00Z"
}
```

### 1.5 获取用户列表（管理员，TODO）

```http
GET /api/users?page=1&size=20&status=0&role=0
Authorization: Bearer {token}
```

```
{
  "code": 200,
  "message": "成功",
  "data": {
    "list": [
      {
        "id": 123,
        "username": "user1",
        "nickname": "用户",
        "avatarUrl": "https://example.com/avatar1.jpg",
        "bio": "简介",
        "followerCount": 100,
        "articleCount": 25,
        "createTime": "2024-01-01T00:00:00Z",
        "status": 0
      }
    ],
    "total": 150,
    "page": 1,
    "size": 20,
    "totalPages": 8
  },
  "timestamp": "2024-01-15T10:30:00Z"
}
```



## 2. 文章模块

### 2.1 创建文章（√）

```http
POST /api/articles
Authorization: Bearer {token}
Content-Type: application/json

{
  "title": "string",
  "content": "string",
  "circleId": 0,
  "tags": ["string", "string", "string"],
  "status": 0
}

[
  {
    "title": "Java 并发编程核心原理",
    "content": "深入讲解 Java 线程池、synchronized、volatile 等并发机制的底层原理与实战应用...",
    "circleId": 1,
    "tags": ["Java", "并发编程", "JVM"],
    "status": 1
  },
  {
    "title": "Spring Boot 3.0 新特性解析",
    "content": "详解 Spring Boot 3.0 对 JDK 17 的全面支持、全新的 WebClient API 及性能优化...",
    "circleId": 1,
    "tags": ["Spring", "Java", "微服务", "后端" ,"JDK 17"],
    "status": 0
  },
  {
    "title": "Redis 缓存穿透与击穿解决方案",
    "content": "实战分析缓存穿透/击穿问题，提供布隆过滤器+双重校验等解决方案...",
    "circleId": 2,
    "tags": ["Redis", "缓存", "高并发"],
    "status": 1
  },
  {
    "title": "前端工程化实践：Webpack 5 优化指南",
    "content": "Webpack 5 核心特性解析，构建速度优化技巧及生产环境配置最佳实践...",
    "circleId": 3,
    "tags": ["Webpack", "前端", "构建工具"],
    "status": 0
  },
  {
    "title": "Kubernetes 集群管理实战",
    "content": "从零搭建 K8s 集群，深入理解 Deployment、Service、Ingress 等核心组件...",
    "circleId": 4,
    "tags": ["Kubernetes", "容器", "云原生"],
    "status": 1
  }
]
```

```
{
  "code": 200,
  "message": "文章创建成功",
  "data": {
    "id": 456,
    "title": "文章标题",
    "content": "文章内容...",
    "createTime": "2024-01-15T10:30:00Z",
    "updateTime": "2024-01-15T11:30:00Z",
    "publishTime": "2024-01-15T10:30:00Z",
    "status": 1,
    "viewCount": 1500,
    "likeCount": 120,
    "starCount": 45,
    "commentCount": 23,
    "author": {
      "id": 123,
      "username": "authoruser",
      "nickname": "作者昵称",
      "avatarUrl": "https://example.com/author-avatar.jpg"
      ...
    },
    "circle": {
      "id": 789,
      "name": "技术圈",
      "description": "技术交流圈子"
    },
    "tags": [
      {
        "id": 1,
        "name": "Java"
      },
      {
        "id": 2,
        "name": "Spring"
      }
    ],
    "isLiked": true,
    "isStarred": false
  },
  "timestamp": "2024-01-15T10:30:00Z"
}
```

### 2.2 获取文章详情（√）

```http
GET /api/articles/{articleId}
```

```JSON
{
    "code": 200,
    "data": {
        "author": {
            "articleCount": 12,
            "avatarUrl": null,
            "bio": "这里是介绍",
            "createTime": "2025-10-20 13:53:43",
            "email": "3162946784@qq.com",
            "followerCount": 1,
            "followingCount": 1,
            "id": 1,
            "lastLoginTime": "2025-10-28 12:28:25",
            "nickname": "我不是大佬",
            "role": 0,
            "status": 0,
            "username": "Wu Qizhen"
        },
        "circle": null,
        "commentCount": 1,
        "content": "详解 Spring Boot 3.0 对 JDK 17 的全面支持、全新的 WebClient API 及性能优化...",
        "createTime": "2025-10-23 12:52:04",
        "id": 2,
        "likeCount": 1,
        "liked": true,
        "publishTime": "2025-10-23 12:52:04",
        "starCount": 1,
        "starred": true,
        "status": 1,
        "tags": [
            {
                "id": 6,
                "name": "后端"
            },
            {
                "id": 1,
                "name": "Java"
            },
            {
                "id": 4,
                "name": "Spring"
            },
            {
                "id": 7,
                "name": "JDK 17"
            },
            {
                "id": 5,
                "name": "微服务"
            }
        ],
        "title": "Spring Boot 3.0 新特性解析 1",
        "updateTime": "2025-10-23 12:52:04",
        "viewCount": 10
    },
    "message": "文章获取成功"
}
```

### 2.3 更新文章（√）

```http
PUT /api/articles/{articleId}
Authorization: Bearer {token}
Content-Type: application/json

{
  "title": "string",
  "content": "string",
  "circleId": 0,
  "tagIds": [1, 2, 3],
  "status": 0
}
```

```
{
  "code": 200,
  "message": "文章更新成功",
  "data": {
    "id": 456,
    "title": "更新后的标题",
    "content": "更新后的内容",
    "updateTime": "2024-01-15T11:30:00Z"
  },
  "timestamp": "2024-01-15T11:30:00Z"
}
```

### 2.4 删除文章（√）

```http
DELETE /api/articles/{articleId}
Authorization: Bearer {token}
```

```
{
  "code": 200,
  "message": "文章删除成功",
  "data": null,
  "timestamp": "2024-01-15T10:30:00Z"
}
```

### 2.5 获取文章列表（√）

```http
GET /api/articles?page=1&size=20&authorId=1&circleId=1&tagId=1&status=1&keyword=search

// 获取推荐文章
GET /api/articles?recommend=true&limit=10

// 多条件搜索
GET /api/articles?page=1&size=20&keyword=Java&tagId=1&circleId=1&sortBy=viewCount&sortOrder=DESC

// 获取用户文章
GET /api/articles?authorId=123&status=1

// 搜索热门文章
GET /api/articles?sortBy=viewCount&sortOrder=DESC&size=10
```

```JSON
{
    "code": 200,
    "data": {
        "total": 5,
        "size": 10,
        "totalPages": 1,
        "page": 1,
        "list": [
            {
                "author": {
                    "articleCount": 6,
                    "avatarUrl": null,
                    "bio": "这里是介绍",
                    "createTime": "2025-10-20 13:53:43",
                    "email": "3162946784@qq.com",
                    "followerCount": 0,
                    "followingCount": 0,
                    "id": 1,
                    "lastLoginTime": "2025-10-24 18:12:03",
                    "nickname": "我不是大佬",
                    "role": 0,
                    "status": 0,
                    "username": "Wu Qizhen"
                },
                "circle": {
                    "createTime": "2025-10-23 12:53:43",
                    "creatorId": 1,
                    "description": "测试专用",
                    "id": 1,
                    "name": "测试"
                },
                "commentCount": 0,
                "content": "从零搭建 K8s 集群，深入理解 Deployment、Service、Ingress 等核心组件...",
                "createTime": "2025-10-23 12:55:17",
                "id": 6,
                "likeCount": 0,
                "publishTime": "2025-10-23 12:55:17",
                "starCount": 0,
                "status": 1,
                "tags": [
                    {
                        "id": 11,
                        "name": "Kubernetes"
                    },
                    {
                        "id": 13,
                        "name": "云原生"
                    },
                    {
                        "id": 12,
                        "name": "容器"
                    }
                ],
                "title": "Kubernetes 集群管理实战",
                "updateTime": "2025-10-23 12:55:17",
                "viewCount": 0
            },
            {
                "author": {
                    "articleCount": 6,
                    "avatarUrl": null,
                    "bio": "这里是介绍",
                    "createTime": "2025-10-20 13:53:43",
                    "email": "3162946784@qq.com",
                    "followerCount": 0,
                    "followingCount": 0,
                    "id": 1,
                    "lastLoginTime": "2025-10-24 18:12:03",
                    "nickname": "我不是大佬",
                    "role": 0,
                    "status": 0,
                    "username": "Wu Qizhen"
                },
                "circle": {
                    "createTime": "2025-10-23 12:53:43",
                    "creatorId": 1,
                    "description": "测试专用",
                    "id": 1,
                    "name": "测试"
                },
                "commentCount": 0,
                "content": "Webpack 5 核心特性解析，构建速度优化技巧及生产环境配置最佳实践...",
                "createTime": "2025-10-23 12:54:50",
                "id": 5,
                "likeCount": 0,
                "publishTime": "2025-10-23 12:54:50",
                "starCount": 0,
                "status": 1,
                "tags": [
                    {
                        "id": 10,
                        "name": "构建工具"
                    },
                    {
                        "id": 9,
                        "name": "前端"
                    },
                    {
                        "id": 8,
                        "name": "Webpack"
                    }
                ],
                "title": "前端工程化实践：Webpack 5 优化指南",
                "updateTime": "2025-10-23 12:54:50",
                "viewCount": 0
            },
            {
                "author": {
                    "articleCount": 6,
                    "avatarUrl": null,
                    "bio": "这里是介绍",
                    "createTime": "2025-10-20 13:53:43",
                    "email": "3162946784@qq.com",
                    "followerCount": 0,
                    "followingCount": 0,
                    "id": 1,
                    "lastLoginTime": "2025-10-24 18:12:03",
                    "nickname": "我不是大佬",
                    "role": 0,
                    "status": 0,
                    "username": "Wu Qizhen"
                },
                "circle": {
                    "createTime": "2025-10-23 12:53:43",
                    "creatorId": 1,
                    "description": "测试专用",
                    "id": 1,
                    "name": "测试"
                },
                "commentCount": 0,
                "content": "实战分析缓存穿透/击穿问题，提供布隆过滤器+双重校验等解决方案...",
                "createTime": "2025-10-23 12:54:06",
                "id": 4,
                "likeCount": 0,
                "publishTime": "2025-10-23 12:54:06",
                "starCount": 0,
                "status": 1,
                "tags": [],
                "title": "Redis 缓存穿透与击穿解决方案",
                "updateTime": "2025-10-23 12:54:06",
                "viewCount": 0
            },
            {
                "author": {
                    "articleCount": 6,
                    "avatarUrl": null,
                    "bio": "这里是介绍",
                    "createTime": "2025-10-20 13:53:43",
                    "email": "3162946784@qq.com",
                    "followerCount": 0,
                    "followingCount": 0,
                    "id": 1,
                    "lastLoginTime": "2025-10-24 18:12:03",
                    "nickname": "我不是大佬",
                    "role": 0,
                    "status": 0,
                    "username": "Wu Qizhen"
                },
                "circle": null,
                "commentCount": 0,
                "content": "详解 Spring Boot 3.0 对 JDK 17 的全面支持、全新的 WebClient API 及性能优化...",
                "createTime": "2025-10-23 12:52:22",
                "id": 3,
                "likeCount": 0,
                "publishTime": "2025-10-23 12:52:22",
                "starCount": 0,
                "status": 1,
                "tags": [
                    {
                        "id": 6,
                        "name": "后端"
                    },
                    {
                        "id": 1,
                        "name": "Java"
                    },
                    {
                        "id": 4,
                        "name": "Spring"
                    },
                    {
                        "id": 7,
                        "name": "JDK 17"
                    },
                    {
                        "id": 5,
                        "name": "微服务"
                    }
                ],
                "title": "Spring Boot 3.0 新特性解析",
                "updateTime": "2025-10-23 12:52:22",
                "viewCount": 0
            },
            {
                "author": {
                    "articleCount": 6,
                    "avatarUrl": null,
                    "bio": "这里是介绍",
                    "createTime": "2025-10-20 13:53:43",
                    "email": "3162946784@qq.com",
                    "followerCount": 0,
                    "followingCount": 0,
                    "id": 1,
                    "lastLoginTime": "2025-10-24 18:12:03",
                    "nickname": "我不是大佬",
                    "role": 0,
                    "status": 0,
                    "username": "Wu Qizhen"
                },
                "circle": null,
                "commentCount": 0,
                "content": "详解 Spring Boot 3.0 对 JDK 17 的全面支持、全新的 WebClient API 及性能优化...",
                "createTime": "2025-10-23 12:52:04",
                "id": 2,
                "likeCount": 0,
                "publishTime": "2025-10-23 12:52:04",
                "starCount": 0,
                "status": 1,
                "tags": [
                    {
                        "id": 6,
                        "name": "后端"
                    },
                    {
                        "id": 1,
                        "name": "Java"
                    },
                    {
                        "id": 4,
                        "name": "Spring"
                    },
                    {
                        "id": 7,
                        "name": "JDK 17"
                    },
                    {
                        "id": 5,
                        "name": "微服务"
                    }
                ],
                "title": "Spring Boot 3.0 新特性解析",
                "updateTime": "2025-10-23 12:52:04",
                "viewCount": 0
            }
        ]
    },
    "message": "成功"
}
```

### 2.6 获取用户文章列表（Deprecated‌）

```http
GET /api/users/{userId}/articles?page=1&size=20&status=1
```



## 3. 标签模块

### 3.1 创建标签（√）

```http
POST /api/tags
Authorization: Bearer {token}
Content-Type: application/json

{
  "name": "string"
}
```

```
{
  "code": 200,
  "message": "标签创建成功",
  "data": {
    "id": 10,
    "name": "新标签",
    // "articleCount": 0
  },
  "timestamp": "2024-01-15T10:30:00Z"
}
```

### 3.2 获取标签（√）

```http
GET /api/tags?name=xxx /api/tags?id=xxx /api/tags?search=xxx 
```

```
{
  "code": 200,
  "message": "成功",
  "data": {
    "list": [
      {
        "id": 1,
        "name": "Java",
        "articleCount": 150
      },
      {
        "id": 2,
        "name": "Spring",
        "articleCount": 89
      }
    ],
    "total": 50,
    "page": 1,
    "size": 20,
    "totalPages": 3
  },
  "timestamp": "2024-01-15T10:30:00Z"
}
```

### 3.3 获取热门标签（TODO）

```http
GET /api/tags/popular?limit=20
```

```
{
  "code": 200,
  "message": "成功",
  "data": [
    {
      "id": 1,
      "name": "Java",
      "articleCount": 150
    },
    {
      "id": 2,
      "name": "Spring",
      "articleCount": 89
    },
    {
      "id": 3,
      "name": "MySQL",
      "articleCount": 76
    }
  ],
  "timestamp": "2024-01-15T10:30:00Z"
}
```



## 4. 评论模块

### 4.1 发表评论（√）

```http
POST /api/comments
Authorization: Bearer {token}
Content-Type: application/json

{
  "content": "string",
  "articleId": 0
}
```

```JSON
{
    "code": 200,
    "data": {
        "articleId": 2,
        "content": "这是一条评论",
        "createTime": "2025-10-25 13:19:10",
        "id": 1,
        "likeCount": 0,
        "liked": false,
        "user": {
            "articleCount": 6,
            "avatarUrl": null,
            "bio": "这里是介绍",
            "createTime": "2025-10-20 13:53:43",
            "email": "3162946784@qq.com",
            "followerCount": 0,
            "followingCount": 0,
            "id": 1,
            "lastLoginTime": "2025-10-24 18:12:03",
            "nickname": "我不是大佬",
            "role": 0,
            "status": 0,
            "username": "Wu Qizhen"
        }
    },
    "message": "评论成功"
}
```

### 4.2 获取文章评论（√）

```http
GET /api/articles/{articleId}/comments?page=1&size=20
```

```JSON
{
    "code": 200,
    "data": {
        "total": 2,
        "size": 20,
        "totalPages": 1,
        "page": 1,
        "list": [
            {
                "articleId": 2,
                "content": "这是第二条评论",
                "createTime": "2025-10-25 13:20:30",
                "id": 2,
                "likeCount": 0,
                "liked": false,
                "user": {
                    "articleCount": 6,
                    "avatarUrl": null,
                    "bio": "这里是介绍",
                    "createTime": "2025-10-20 13:53:43",
                    "email": "3162946784@qq.com",
                    "followerCount": 0,
                    "followingCount": 0,
                    "id": 1,
                    "lastLoginTime": "2025-10-24 18:12:03",
                    "nickname": "我不是大佬",
                    "role": 0,
                    "status": 0,
                    "username": "Wu Qizhen"
                }
            },
            {
                "articleId": 2,
                "content": "这是一条评论",
                "createTime": "2025-10-25 13:19:10",
                "id": 1,
                "likeCount": 0,
                "liked": false,
                "user": {
                    "articleCount": 6,
                    "avatarUrl": null,
                    "bio": "这里是介绍",
                    "createTime": "2025-10-20 13:53:43",
                    "email": "3162946784@qq.com",
                    "followerCount": 0,
                    "followingCount": 0,
                    "id": 1,
                    "lastLoginTime": "2025-10-24 18:12:03",
                    "nickname": "我不是大佬",
                    "role": 0,
                    "status": 0,
                    "username": "Wu Qizhen"
                }
            }
        ]
    },
    "message": "成功"
}
```

### 4.3 删除评论（√）

```http
DELETE /api/comments/{commentId}
Authorization: Bearer {token}
```

```
{
    "code": 200,
    "data": null,
    "message": "删除评论成功"
}
```



## 5. 圈子模块

### 5.1 创建圈子（√）

```http
POST /api/circles
Authorization: Bearer {token}
Content-Type: application/json

{
  "name": "string",
  "description": "string",
}
```

```JSON
{
    "code": 200,
    "data": {
        "articleCount": 0,
        "createTime": "2025-10-25 19:26:16",
        "creator": {
            "articleCount": 6,
            "avatarUrl": null,
            "bio": "这里是介绍",
            "createTime": "2025-10-20 13:53:43",
            "email": "3162946784@qq.com",
            "followerCount": 0,
            "followingCount": 1,
            "id": 1,
            "lastLoginTime": "2025-10-24 18:12:03",
            "nickname": "我不是大佬",
            "role": 0,
            "status": 0,
            "username": "Wu Qizhen"
        },
        "description": "Java 学习与交流",
        "id": 5,
        "joinTime": "2025-10-25 19:26:16",
        "member": true,
        "memberCount": 1,
        "memberRole": 2,
        "name": "Java"
    },
    "message": "圈子创建成功"
}
```

### 5.2 获取圈子列表（√）

```http
GET /api/circles?page=1&size=20&keyword=search

// 获取用户加入圈子列表
GET /api/circles?userId=1

// 获取创建者创建圈子列表
GET /api/circles?creatorId=1

// 多条件搜索
GET /api/circles?page=1&size=20&keyword=search&sortBy=memberCount&sortOrder=DESC
```

```JSON
{
    "code": 200,
    "data": {
        "total": 2,
        "size": 20,
        "totalPages": 1,
        "page": 1,
        "list": [
            {
                "articleCount": 0,
                "createTime": "2025-10-25 19:01:57",
                "creator": {
                    "articleCount": 6,
                    "avatarUrl": null,
                    "bio": "这里是介绍",
                    "createTime": "2025-10-20 13:53:43",
                    "email": "3162946784@qq.com",
                    "followerCount": 0,
                    "followingCount": 1,
                    "id": 1,
                    "lastLoginTime": "2025-10-24 18:12:03",
                    "nickname": "我不是大佬",
                    "role": 0,
                    "status": 0,
                    "username": "Wu Qizhen"
                },
                "description": "技术学习与交流",
                "id": 4,
                "member": true,
                "memberCount": 1,
                "memberRole": 2,
                "name": "调试"
            },
            {
                "articleCount": 0,
                "createTime": "2025-10-25 18:48:53",
                "creator": {
                    "articleCount": 6,
                    "avatarUrl": null,
                    "bio": "这里是介绍",
                    "createTime": "2025-10-20 13:53:43",
                    "email": "3162946784@qq.com",
                    "followerCount": 0,
                    "followingCount": 1,
                    "id": 1,
                    "lastLoginTime": "2025-10-24 18:12:03",
                    "nickname": "我不是大佬",
                    "role": 0,
                    "status": 0,
                    "username": "Wu Qizhen"
                },
                "description": "技术学习与交流",
                "id": 2,
                "member": false,
                "memberCount": 0,
                "memberRole": null,
                "name": "技术交流"
            }
        ]
    },
    "message": "成功"
}
```

### 5.3 获取圈子详情（√）

```http
GET /api/circles/{circleId}
```

```JSON
{
    "code": 200,
    "data": {
        "articleCount": 3,
        "createTime": "2025-10-23 12:53:43",
        "creator": {
            "articleCount": 6,
            "avatarUrl": null,
            "bio": "这里是介绍",
            "createTime": "2025-10-20 13:53:43",
            "email": "3162946784@qq.com",
            "followerCount": 0,
            "followingCount": 1,
            "id": 1,
            "lastLoginTime": "2025-10-24 18:12:03",
            "nickname": "我不是大佬",
            "role": 0,
            "status": 0,
            "username": "Wu Qizhen"
        },
        "description": "测试专用",
        "id": 1,
        "joinTime": null,
        "member": false,
        "memberCount": 0,
        "memberRole": null,
        "name": "测试"
    },
    "message": "成功"
}
```

### 5.4 加入圈子（√）

```http
POST /api/circles/{circleId}/join
Authorization: Bearer {token}
```

```JSON
{
    "code": 200,
    "data": {
        "circleId": 1,
        "joinTime": "2025-10-25 19:31:34.1334145",
        "role": 0,
        "userId": 1
    },
    "message": "成功加入圈子"
}
```

### 5.5 退出圈子（√）

```http
DELETE /api/circles/{circleId}/exit
Authorization: Bearer {token}
```

```JSON
{
    "code": 200,
    "data": null,
    "message": "退出圈子成功"
}
```

### 5.6 获取圈子成员（√）

```http
GET /api/circles/{circleId}/members?page=1&size=20
Authorization: Bearer {token}
```

```JSON
{
    "code": 200,
    "data": {
        "total": 1,
        "size": 20,
        "totalPages": 1,
        "page": 1,
        "list": [
            {
                "id": 3,
                "joinTime": "2025-10-25 19:31:34",
                "role": 0,
                "user": {
                    "articleCount": 6,
                    "avatarUrl": null,
                    "bio": "这里是介绍",
                    "createTime": "2025-10-20 13:53:43",
                    "email": "3162946784@qq.com",
                    "followerCount": 0,
                    "followingCount": 1,
                    "id": 1,
                    "lastLoginTime": "2025-10-24 18:12:03",
                    "nickname": "我不是大佬",
                    "role": 0,
                    "status": 0,
                    "username": "Wu Qizhen"
                }
            }
        ]
    },
    "message": "成功"
}
```

### 5.7 获取圈子文章（√）

```HTTP
GET /api/articles?circleId=123&page=1&size=20
Authorization: Bearer {token}
```

```JSON
{
    "code": 200,
    "data": {
        "total": 3,
        "size": 20,
        "totalPages": 1,
        "page": 1,
        "list": [
            {
                "author": {
                    "articleCount": 6,
                    "avatarUrl": null,
                    "bio": "这里是介绍",
                    "createTime": "2025-10-20 13:53:43",
                    "email": "3162946784@qq.com",
                    "followerCount": 0,
                    "followingCount": 1,
                    "id": 1,
                    "lastLoginTime": "2025-10-24 18:12:03",
                    "nickname": "我不是大佬",
                    "role": 0,
                    "status": 0,
                    "username": "Wu Qizhen"
                },
                "circle": {
                    "createTime": "2025-10-23 12:53:43",
                    "creatorId": 1,
                    "description": "测试专用",
                    "id": 1,
                    "name": "测试"
                },
                "commentCount": 0,
                "content": "从零搭建 K8s 集群，深入理解 Deployment、Service、Ingress 等核心组件...",
                "createTime": "2025-10-23 12:55:17",
                "id": 6,
                "likeCount": 0,
                "publishTime": "2025-10-23 12:55:17",
                "starCount": 0,
                "status": 1,
                "tags": [
                    {
                        "id": 11,
                        "name": "Kubernetes"
                    },
                    {
                        "id": 13,
                        "name": "云原生"
                    },
                    {
                        "id": 12,
                        "name": "容器"
                    }
                ],
                "title": "Kubernetes 集群管理实战",
                "updateTime": "2025-10-23 12:55:17",
                "viewCount": 2
            },
            {
                "author": {
                    "articleCount": 6,
                    "avatarUrl": null,
                    "bio": "这里是介绍",
                    "createTime": "2025-10-20 13:53:43",
                    "email": "3162946784@qq.com",
                    "followerCount": 0,
                    "followingCount": 1,
                    "id": 1,
                    "lastLoginTime": "2025-10-24 18:12:03",
                    "nickname": "我不是大佬",
                    "role": 0,
                    "status": 0,
                    "username": "Wu Qizhen"
                },
                "circle": {
                    "createTime": "2025-10-23 12:53:43",
                    "creatorId": 1,
                    "description": "测试专用",
                    "id": 1,
                    "name": "测试"
                },
                "commentCount": 0,
                "content": "Webpack 5 核心特性解析，构建速度优化技巧及生产环境配置最佳实践...",
                "createTime": "2025-10-23 12:54:50",
                "id": 5,
                "likeCount": 1,
                "publishTime": "2025-10-23 12:54:50",
                "starCount": 0,
                "status": 1,
                "tags": [
                    {
                        "id": 10,
                        "name": "构建工具"
                    },
                    {
                        "id": 9,
                        "name": "前端"
                    },
                    {
                        "id": 8,
                        "name": "Webpack"
                    }
                ],
                "title": "前端工程化实践：Webpack 5 优化指南",
                "updateTime": "2025-10-23 12:54:50",
                "viewCount": 3
            },
            {
                "author": {
                    "articleCount": 6,
                    "avatarUrl": null,
                    "bio": "这里是介绍",
                    "createTime": "2025-10-20 13:53:43",
                    "email": "3162946784@qq.com",
                    "followerCount": 0,
                    "followingCount": 1,
                    "id": 1,
                    "lastLoginTime": "2025-10-24 18:12:03",
                    "nickname": "我不是大佬",
                    "role": 0,
                    "status": 0,
                    "username": "Wu Qizhen"
                },
                "circle": {
                    "createTime": "2025-10-23 12:53:43",
                    "creatorId": 1,
                    "description": "测试专用",
                    "id": 1,
                    "name": "测试"
                },
                "commentCount": 0,
                "content": "实战分析缓存穿透/击穿问题，提供布隆过滤器+双重校验等解决方案...",
                "createTime": "2025-10-23 12:54:06",
                "id": 4,
                "likeCount": 0,
                "publishTime": "2025-10-23 12:54:06",
                "starCount": 0,
                "status": 1,
                "tags": [],
                "title": "Redis 缓存穿透与击穿解决方案",
                "updateTime": "2025-10-23 12:54:06",
                "viewCount": 5
            }
        ]
    },
    "message": "成功"
}
```



## 6. 互动功能模块

### 6.1 点赞文章（√）

```http
POST /api/articles/{articleId}/like
Authorization: Bearer {token}
```

```
{
  "code": 200,
  "message": "操作成功",
  "data": {
    "articleId": 456,
    "likeCount": 121,
    "isLiked": true
  },
  "timestamp": "2024-01-15T10:30:00Z"
}
```

### 6.2 取消点赞文章（√）

```http
DELETE /api/articles/{articleId}/like
Authorization: Bearer {token}
```

```
{
  "code": 200,
  "message": "操作成功",
  "data": {
    "articleId": 456,
    "likeCount": 121,
    "isLiked": true
  },
  "timestamp": "2024-01-15T10:30:00Z"
}
```

### 6.3 收藏文章（√）

```http
POST /api/articles/{articleId}/star
Authorization: Bearer {token}
```

```
{
  "code": 200,
  "message": "操作成功",
  "data": {
    "articleId": 456,
    "starCount": 46,
    "isStarred": true
  },
  "timestamp": "2024-01-15T10:30:00Z"
}
```

### 6.4 取消收藏文章（√）

```http
DELETE /api/articles/{articleId}/star
Authorization: Bearer {token}
```

```
{
  "code": 200,
  "message": "操作成功",
  "data": {
    "articleId": 456,
    "starCount": 46,
    "isStarred": true
  },
  "timestamp": "2024-01-15T10:30:00Z"
}
```

### 6.5 点赞评论（√）

```http
POST /api/comments/{commentId}/like
Authorization: Bearer {token}
```

```JSON
{
    "code": 200,
    "data": {
        "commentId": 2,
        "likeCount": 1,
        "liked": true
    },
    "message": "点赞评论成功"
}
```

### 6.6 取消点赞评论（√）

```http
DELETE /api/comments/{commentId}/like
Authorization: Bearer {token}
```

```JSON
{
    "code": 200,
    "data": {
        "commentId": 2,
        "likeCount": 0,
        "liked": false
    },
    "message": "取消点赞评论成功"
}
```

### 6.7 关注用户（√）

```http
POST /api/users/{userId}/follow
Authorization: Bearer {token}
```

```JSON
{
    "code": 200,
    "data": {
        "followerCount": 1,
        "following": true,
        "targetUserId": 2
    },
    "message": "关注成功"
}
```

### 6.8 取消关注用户（√）

```http
DELETE /api/users/{userId}/follow
Authorization: Bearer {token}
```

```JSON
{
    "code": 200,
    "data": {
        "followerCount": 0,
        "following": false,
        "targetUserId": 2
    },
    "message": "取消关注成功"
}
```

### 6.9 获取点赞文章列表（√）

```HTTP
GET /api/articles/liked
Authorization: Bearer {token}
```

### 6.10 获取收藏文章列表（√）

```HTTP
GET /api/articles/starred
Authorization: Bearer {token}
```

### 6.11 获取用户粉丝列表（√）

```HTTP
GET /api/users/123/followers
Authorization: Bearer {token}
```

```JSON
{
    "code": 200,
    "data": [
        {
            "articleCount": 6,
            "avatarUrl": null,
            "bio": "这里是介绍",
            "createTime": "2025-10-20 13:53:43",
            "email": "3162946784@qq.com",
            "followerCount": 0,
            "followingCount": 1,
            "id": 1,
            "lastLoginTime": "2025-10-24 18:12:03",
            "nickname": "我不是大佬",
            "role": 0,
            "status": 0,
            "username": "Wu Qizhen"
        }
    ],
    "message": "获取粉丝列表成功"
}
```

### 6.12 获取用户关注列表（√）

```HTTP
GET /api/users/123/following
Authorization: Bearer {token}
```

```JSON
{
    "code": 200,
    "data": [
        {
            "articleCount": 0,
            "avatarUrl": null,
            "bio": "这里是介绍",
            "createTime": "2025-10-20 22:17:10",
            "email": "wu_qizhen@126.com",
            "followerCount": 1,
            "followingCount": 0,
            "id": 2,
            "lastLoginTime": "2025-10-21 13:32:53",
            "nickname": "我不是靓仔",
            "role": 0,
            "status": 0,
            "username": "Wu Qizhen Dev"
        }
    ],
    "message": "获取关注列表成功"
}
```



## 7. 数据统计模块

### 7.1 获取用户统计数据（TODO）

```http
GET /api/users/{userId}/stats
```

```
{
  "code": 200,
  "message": "成功",
  "data": {
    "userId": 123,
    "articleCount": 42,
    "totalViews": 15000,
    "totalLikes": 850,
    "totalStars": 320,
    "followerCount": 150,
    "followingCount": 85,
    "circleCount": 5
  },
  "timestamp": "2024-01-15T10:30:00Z"
}
```

### 7.2 获取文章统计数据（TODO）

```http
GET /api/articles/{articleId}/stats
```

### 7.3 获取热门文章（Deprecated‌）

```http
GET /api/articles/popular?period=week&limit=10
```

```
{
  "code": 200,
  "message": "成功",
  "data": [
    {
      "id": 456,
      "title": "热门文章标题",
      "author": {
        "id": 123,
        "nickname": "作者昵称"
      },
      "viewCount": 5000,
      "likeCount": 300,
      "commentCount": 45,
      "publishTime": "2024-01-14T10:30:00Z"
    }
  ],
  "timestamp": "2024-01-15T10:30:00Z"
}
```



## 8. 说明

响应格式：

```typescript
interface ApiResponse<T> {
    code: number;
    message: string;
    data: T;
    timestamp: string;
}

interface PaginatedResponse<T> {
    list: T[];
    total: number;
    page: number;
    size: number;
    totalPages: number;
}
```

权限：

- **公开接口**：无需认证（用户注册、登录、获取文章列表、文章详情等）
- **用户接口**：需要用户登录（发表评论、点赞、关注等）
- **管理员接口**：需要管理员权限（用户管理、内容审核等）
